<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Solicitudes</title>
    <link rel="icon" href="./assets/solologo-1.png" type="image/png">
    <link rel="stylesheet" href="./styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/es.js"></script>
</head>

<body>
    <div class="container">
        <header class="header">
            <img src="./assets/Logo-Fondo-Transparente@3x(1).png" alt="Logo de la organización" class="logo">
        </header>

        <main class="main-content">
            <h1>Formulario de Solicitudes</h1>

            <!-- Breadcrumb para navegación -->
            <div class="breadcrumb-container">
                <ul class="breadcrumb" id="breadcrumb">
                    <li class="breadcrumb-item active" data-step="validacion-inicial">Validación de Identidad</li>
                </ul>
            </div>

            <!-- Carrusel de pasos del formulario -->
            <div class="carousel-container">
                <!-- Paso 1: Validación de identidad inicial -->
                <div class="carousel-step" id="step-validacion-inicial">
                    <h2>Validación de Identidad</h2>
                    <p>Por temas de seguridad, para acceder al sistema de solicitudes primero se debe validar tu identidad. Todos los campos son obligatorios. </p>

                    <div class="validation-section">
                        <div class="form-group">
                            <label for="rut-inicial">RUT del socio (autor):</label>
                            <input type="text" id="rut-inicial" name="rut"
                                placeholder="Ingresa el RUT del socio autor (ej: 12345678-9) " required>
                            <small class="error-message" id="rut-inicial-error"></small>
                        </div>

                        <div class="form-group">
                            <p>Eres:</p>
                            <div class="styled-radio">
                                <div class="radio-option">
                                    <input type="radio" id="tipo-socio-inicial" name="tipo-usuario-inicial"
                                        value="socio-vigente" required>
                                    <label for="tipo-socio-inicial">Socio vigente</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="tipo-representante-inicial"
                                        name="tipo-usuario-inicial" value="representante-legal" required>
                                    <label for="tipo-representante-inicial">Representante legal del RUT del autor
                                        ingresado</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <small class="info-note">
                                <strong>Nota:</strong> Si eres representante legal, ingresa tu correo personal, no el de quien está representando.  
                            </small>
                            <label for="email-validacion-inicial">Correo electrónico:</label>
                            <input type="text" id="email-validacion-inicial" name="email"
                                placeholder="Ingresa tu correo electrónico actualizado" required>
                            <small class="error-message" id="email-inicial-error"></small>
                        </div>

                        <button id="validate-rut-inicial" class="btn">Validar</button>
                    </div>
                </div>

                <!-- Paso 2: Selección de tipo de solicitud -->
                <div class="carousel-step hidden" id="step-inicio">
                    <h2>Formulario de Solicitudes</h2>
                    <p class="description">Selecciona el tipo de solicitud que deseas realizar: </p>
                    <div class="request-types">
                        <div class="request-type" data-type="actualizacion">
                            <h3>Solicitud de actualización de información</h3>
                            <p>Actualiza tus datos personales, de contacto, bancarios y otros.  </p>
                        </div>
                        <div class="request-type" data-type="exhibicion">
                            <h3>Notificación de exhibición de obra en el extranjero</h3>
                            <p>Infórmanos sobre exhibiciones de tu(s) obra(s) fuera del país. </p>
                        </div>
                        <div class="request-type" data-type="conflicto">
                            <h3>Declaración de conflicto en obra</h3>
                            <p>Reporta algún conflicto relacionado con tu(s) obra(s) declarada(s) en ATN. </p>
                        </div>
                        <div class="request-type" data-type="certificado">
                            <h3>Solicitud de certificado</h3>
                            <p>Solicita certificados relacionados con tu afiliación a ATN. </p>
                        </div>
                        <div class="request-type" data-type="desafiliacion">
                            <h3>Solicitud de desafiliación</h3>
                            <p>Inicia el proceso de desafiliación de ATN. </p>
                        </div>
                        <div class="request-type" data-type="otro">
                            <h3>Otra solicitud</h3>
                            <p>Realiza otro tipo de solicitud no contemplada en las categorías anteriores. </p>
                        </div>
                    </div>
                </div>

                <!-- Paso 2: Subsecciones de Actualización de Información -->
                <div class="carousel-step hidden" id="step-actualizacion">
                    <h2>Solicitud de actualización de información</h2>
                    <p>Selecciona la información que deseas actualizar: </p>

                    <div class="subsection-types">
                        <div class="subsection-type" data-subsection="datos-personales">
                            <h3>Datos personales</h3>
                            <p>Actualiza tu nombre, seudónimo o género. </p>
                        </div>
                        <div class="subsection-type" data-subsection="datos-contacto">
                            <h3>Datos de contacto</h3>
                            <p>Actualiza tu información de contacto. </p>
                        </div>
                        <div class="subsection-type" data-subsection="datos-bancarios">
                            <h3>Datos bancarios</h3>
                            <p>Registra tus datos bancarios actualizados. </p>
                        </div>
                        <div class="subsection-type" data-subsection="datos-autor">
                            <h3>Datos de autor</h3>
                            <p>Actualiza los datos con los que ATN administrará tus derechos de autor. </p>
                        </div>
                        <div class="subsection-type" data-subsection="representante-legal">
                            <h3>Representante Legal</h3>
                            <p>Actualiza la información de tu representante legal.</p>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step" data-prev="inicio">Volver</button>
                    </div>
                </div>

                <!-- Paso: Notificación de exhibición de obra en el extranjero -->
                <div class="carousel-step hidden" id="step-exhibicion">
                    <h2>Notificación de exhibición de obra en el extranjero</h2>
                    <p>Infórmanos sobre exhibiciones en el extranjero de tu(s) obra(s) para que podamos gestionar tus derechos: </p>

                    <div class="info-note">
                        <p>⚠️ <strong>Importante:</strong></p>
                        <ol style="text-align: justify; padding-left: 20px;">
                            <li>Las obras que registres en esta solicitud deben haber sido declaradas previamente.</li>
                            <li>Este formulario no reemplaza la declaración de obras audiovisuales, sino que permite informar su exhibición en el extranjero.</li>
                            <li>Puedes revisar si la obra ya fue declarada en el apartado "Mis Obras" del Portal de Socios.</li>
                            <li>Asegúrate de escribir el nombre de tu obra tal como aparece registrado en tu portal, en "Mis Obras".</li>
                        </ol>
                    </div>

                    <div id="exhibicion-container" class="form-container">
                        <div class="table-container">
                            <table id="exhibiciones-table" class="exhibiciones-table">
                                <thead>
                                    <tr>
                                        <th>Ámbito</th>
                                        <th>Obra</th>
                                        <th>Título Traducido</th>
                                        <th>País</th>
                                        <th>Canal/Plataforma/Sala</th>
                                        <th>Fecha Inicio</th>
                                        <th>Fecha Término</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="exhibiciones-body">
                                    <!-- Las filas se agregarán dinámicamente -->
                                </tbody>
                            </table>
                        </div>

                        <div class="form-group">
                            <button type="button" id="add-exhibicion" class="btn btn-secondary">Agregar
                                exhibición</button>
                        </div>

                        <!-- Formulario para agregar/editar exhibición -->
                        <div id="exhibicion-form" class="exhibicion-form hidden">
                            <h3>Detalles de la exhibición</h3>

                            <div class="form-group">
                                <label for="exhibicion-ambito">Ámbito:</label>
                                <select id="exhibicion-ambito" name="ambito" required>
                                    <option value="">Selecciona un ámbito</option>
                                    <option value="Audiovisual">Audiovisual</option>
                                    <option value="Dramático">Dramático</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="exhibicion-obra">Obra:</label>
                                <input type="text" id="exhibicion-obra" name="obra"
                                    placeholder="Ingresa el nombre de la obra" required>
                            </div>

                            <div class="form-group">
                                <label for="exhibicion-titulo-traducido">Título traducido (si aplica):</label>
                                <input type="text" id="exhibicion-titulo-traducido" name="titulo-traducido"
                                    placeholder="Ingresa el título con el que se exhibió la obra en el país ingresado">
                            </div>

                            <div class="form-group">
                                <label for="exhibicion-pais">País:</label>
                                <select id="exhibicion-pais" name="pais" required>
                                    <option value="">Selecciona un país</option>
                                    <!-- Los países se cargarán desde el archivo JSON -->
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="exhibicion-canal">Canal / Plataforma / Sala:</label>
                                <input type="text" id="exhibicion-canal" name="canal"
                                    placeholder="Ejemplo: Netflix, Canal 6, etc" required>
                            </div>

                            <div class="form-group">
                                <label for="exhibicion-fecha">Fecha estimada de inicio de la exhibición:</label>
                                <input type="text" id="exhibicion-fecha" name="fecha" placeholder="dd-mm-yyyy" required>
                            </div>

                            <div class="form-group">
                                <label for="exhibicion-fecha-termino">Fecha estimada de término de la exhibición:</label>
                                <input type="text" id="exhibicion-fecha-termino" name="fecha-termino" placeholder="dd-mm-yyyy">
                            </div>

                            <div class="form-actions">
                                <button type="button" id="save-exhibicion" class="btn">Guardar</button>
                                <button type="button" id="cancel-exhibicion" class="btn btn-secondary">Cancelar</button>
                            </div>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-exhibicion" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step" data-prev="inicio">Volver</button>
                    </div>
                </div>

                <!-- Paso: Declaración de conflicto en obra -->
                <div class="carousel-step hidden" id="step-conflicto">
                    <h2>Declaración de conflicto en obra</h2>
                    <p>Registra la información necesaria para reportar el conflicto sobre tu obra declarada en ATN </p>

                    <div id="conflicto-form" class="form-container">
                        <div class="form-group">
                            <label>Ámbito:</label>
                            <div class="styled-radio">
                                <div class="radio-option">
                                    <input type="radio" id="conflicto-audiovisual" name="conflicto-ambito"
                                        value="Audiovisual" class="conflicto-ambito">
                                    <label for="conflicto-audiovisual">Audiovisual</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="conflicto-dramatico" name="conflicto-ambito"
                                        value="Dramático" class="conflicto-ambito">
                                    <label for="conflicto-dramatico">Dramático</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="conflicto-obra">Obra en conflicto:</label>
                            <input type="text" id="conflicto-obra" name="conflicto-obra"
                                placeholder="Ingresa el nombre de la obra en conflicto" required>
                        </div>

                        <div class="form-group">
                            <label for="conflicto-descripcion">Descripción del conflicto: <span
                                    class="required">*</span></label>
                            <textarea id="conflicto-descripcion" name="conflicto-descripcion" rows="6"
                                placeholder="Describe detalladamente el conflicto relacionado con la obra ingresada"
                                required></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-conflicto" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step" data-prev="inicio">Volver</button>
                    </div>
                </div>

                <!-- Paso: Solicitud de certificado -->
                <div class="carousel-step hidden" id="step-certificado">
                    <h2>Solicitud de certificado</h2>
                    <p>Selecciona el tipo de certificado que deseas solicitar:</p>

                    <div class="subsection-types">
                        <div class="subsection-type" data-subsection="afiliacion">
                            <h3>Afiliación</h3>
                            <p>Solicita un certificado de afiliación a ATN.</p>
                        </div>
                        <div class="subsection-type" data-subsection="obras-declaradas">
                            <h3>Obras declaradas</h3>
                            <p>Solicita un certificado con el listado de las obras que tienes declaradas en ATN.</p>
                        </div>
                        <div class="subsection-type" data-subsection="otro-certificado">
                            <h3>Otro certificado</h3>
                            <p>Si necesitas un certificado diferente, indícanos los detalles de este para poder ayudarte.</p>
                        </div>
                        <div class="subsection-type hidden" data-subsection="derechos-recibidos">
                            <h3>Derechos recibidos</h3>
                            <p>Solicite un certificado de derechos recibidos.</p>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step" data-prev="inicio">Volver</button>
                    </div>
                </div>

                <!-- Paso: Certificado de Afiliación -->
                <div class="carousel-step hidden" id="step-afiliacion">
                    <h2>Certificado de Afiliación</h2>
                    <p>Completa la información para solicitar su certificado de afiliación:</p>

                    <div id="afiliacion-form" class="form-container">
                        <p>¿Deseas incluir en el certificado los derechos que ATN administra en tu representación?</p>
                        <br>
                        <div class="form-group">
                            <label>Ámbito (Audiovisual y/o Dramático):</label>
                            <div class="radio-group styled-radio">
                                <div class="radio-option">
                                    <input type="radio" id="ambito-si" name="ambito-afiliacion" value="si">
                                    <label for="ambito-si">SÍ</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="ambito-no" name="ambito-afiliacion" value="no" checked>
                                    <label for="ambito-no">NO</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Clase (Director, Guionista, Dramaturgo, etc.):</label>
                            <div class="radio-group styled-radio">
                                <div class="radio-option">
                                    <input type="radio" id="clase-si" name="clase-afiliacion" value="si">
                                    <label for="clase-si">SÍ</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="clase-no" name="clase-afiliacion" value="no" checked>
                                    <label for="clase-no">NO</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="afiliacion-motivo">Motivo de la solicitud:</label>
                            <textarea id="afiliacion-motivo" class="styled-textarea"
                                placeholder="Indique el motivo por el cual solicita este certificado"></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-afiliacion" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="certificado">Volver</button>
                    </div>
                </div>

                <!-- Paso: Certificado de Obras Declaradas -->
                <div class="carousel-step hidden" id="step-obras-declaradas">
                    <h2>Certificado de Obras Declaradas</h2>
                    <p>Completa la información para solicitar su certificado de obras declaradas:</p>

                    <div id="obras-declaradas-form" class="form-container">
                        <div class="form-group">
                            <label>Ámbito (selecciona qué tipo(s) de obras deseas en tu certificado):</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ambito-audiovisual-obras" name="ambito-obras" value="audiovisual">
                                    <label for="ambito-audiovisual-obras">Audiovisual</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ambito-dramatico-obras" name="ambito-obras" value="dramatico">
                                    <label for="ambito-dramatico-obras">Dramático</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>¿Deseas incluir en el certificado el rol declarado para cada obra? (Ej: Director, Autor de idea original, coreógrafo, etc.)</label>
                            <div class="radio-group styled-radio">
                                <div class="radio-option">
                                    <input type="radio" id="incluir-rol-si" name="incluir-rol-obras" value="si">
                                    <label for="incluir-rol-si">SÍ</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="incluir-rol-no" name="incluir-rol-obras" value="no">
                                    <label for="incluir-rol-no">NO</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>¿Deseas incluir en el certificado el porcentaje de tu participación en las obras? Considera que si eliges incluirla se añadirá el rol correspondiente.</label>
                            <div class="radio-group styled-radio">
                                <div class="radio-option">
                                    <input type="radio" id="incluir-porcentaje-si" name="incluir-porcentaje-obras" value="si">
                                    <label for="incluir-porcentaje-si">SÍ</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="incluir-porcentaje-no" name="incluir-porcentaje-obras" value="no">
                                    <label for="incluir-porcentaje-no">NO</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="obras-declaradas-motivo">Motivo de la solicitud: *</label>
                            <textarea id="obras-declaradas-motivo" class="styled-textarea"
                                placeholder="Indícanos el motivo por el cual solicitas este certificado"></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-obras-declaradas" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="certificado">Volver</button>
                    </div>
                </div>

                <!-- Paso: Certificado de Otro Certificado -->
                <div class="carousel-step hidden" id="step-otro-certificado">
                    <h2>Otro Certificado</h2>
                    <p>Completa la información para solicitar un certificado diferente:</p>

                    <div id="otro-certificado-form" class="form-container">
                        <div class="form-group">
                            <label for="detalles-certificado-otro">Detalles del certificado solicitado:</label>
                            <textarea id="detalles-certificado-otro" rows="4" 
                                placeholder="Ingresa todos los detalles del certificado que necesitas"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="otro-certificado-motivo">Motivo de la solicitud:</label>
                            <textarea id="otro-certificado-motivo" rows="4" 
                                placeholder="Indícanos el motivo por el cual solicitas este certificado"></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-otro-certificado" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="certificado">Volver</button>
                    </div>
                </div>

                <!-- Paso: Certificado de Derechos Recibidos -->
                <div class="carousel-step hidden" id="step-derechos-recibidos">
                    <h2>Certificado de Derechos Recibidos</h2>
                    <p>Completa la información para solicitar su certificado de derechos recibidos:</p>

                    <div id="derechos-form" class="form-container">
                        <div class="form-group">
                            <label for="derechos-periodo">Desde:</label>
                            <div class="date-range">
                                <input type="text" id="derechos-fecha-inicio" placeholder="Fecha inicio (DD/MM/AAAA)"
                                    class="date-input">
                                <label for="derechos-periodo">Hasta:</label>
                                <input type="text" id="derechos-fecha-fin" placeholder="Fecha fin (DD/MM/AAAA)"
                                    class="date-input">
                            </div>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-derechos" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="certificado">Volver</button>
                    </div>
                </div>

                <!-- Paso: Solicitud de desafiliación -->
                <div class="carousel-step hidden" id="step-desafiliacion">
                    <h2>Solicitud de desafiliación</h2>

                    <div id="desafiliacion-form" class="form-container">
                        <div class="form-group">
                            <label for="desafiliacion-motivo">Motivo de la solicitud: *</label>
                            <div class="info-note">
                                <p>Por favor, detalla el motivo de tu solicitud de desafiliación. Una vez enviada, toda la gestión de firma de 
documentos relacionados se realizará a través del correo electrónico registrado.</p>
                            </div>
                            <textarea id="desafiliacion-motivo" class="styled-textarea"
                                placeholder="Indícanos el motivo por el cual solicita la desafiliación de ATN"></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-desafiliacion" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step" data-prev="inicio">Volver</button>
                    </div>
                </div>

                <!-- Paso: Formulario Otro tipo de solicitud -->
                <div class="carousel-step hidden" id="step-otro">
                    <h2>Otro tipo de solicitud</h2>
                    <p>Si necesitas realizar una solicitud diferente, indícanos los detalles de este para poder ayudarte:</p>

                    <div class="info-note">
                        <p>Recuerda que puedes contactarte directamente con nuestro equipo mediante nuestro canal de Whatsapp a través del siguiente <a href="https://api.whatsapp.com/send?phone=56979753559" target="_blank">enlace</a>.</p>
                    </div>

                    <div class="form-container">
                        <div class="form-group">
                            <label for="detalleSolicitud">Detalle de la solicitud:</label>
                            <textarea id="detalleSolicitud" class="styled-textarea"
                                placeholder="Ingresa todos los detalles de la solicitud que necesitas realizar"></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" class="btn btn-secondary prev-step" data-prev="inicio">Volver</button>
                            <button type="button" id="submit-button-otro" class="btn">Enviar solicitud</button>
                        </div>
                    </div>
                </div>

                <!-- Paso 3: Formulario de Datos Personales -->
                <div class="carousel-step hidden" id="step-datos-personales">
                    <h2>Actualización de Datos Personales</h2>

                    <div id="update-options">
                        <h3>Selecciona los datos que deseas actualizar:</h3>

                        <div class="info-note">
                            <p><strong>Nota:</strong> Si eres representante legal, considera que los datos personales a actualizar corresponden a los del autor.</p>
                        </div>

                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="update-nombre" name="update-fields" value="nombre">
                                <label for="update-nombre">Nombre</label>
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="update-seudonimo" name="update-fields" value="seudonimo">
                                <label for="update-seudonimo">Seudónimo</label>
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="update-genero" name="update-fields" value="genero">
                                <label for="update-genero">Género</label>
                            </div>
                        </div>

                        <div id="nombre-field" class="form-group field-container hidden">
                            <label for="nombre">Nombre completo:</label>
                            <input type="text" id="nombre" name="nombre" placeholder="Ingresa tu nombre completo actualizado ">
                        </div>

                        <div id="seudonimo-field" class="form-group field-container hidden">
                            <label for="seudonimo">Seudónimo:</label>
                            <input type="text" id="seudonimo" name="seudonimo" placeholder="Ingresa tu seudónimo actualizado ">
                        </div>

                        <div id="genero-field" class="form-group field-container hidden">
                            <label for="genero">Género:</label>
                            <select id="genero" name="genero">
                                <option value="">Selecciona una opción</option>
                                <option value="masculino">Masculino</option>
                                <option value="femenino">Femenino</option>
                                <option value="no-binario">No binario</option>
                                <option value="otro">Otro</option>
                                <option value="prefiero-no-decir">Prefiero no decir</option>
                            </select>
                        </div>

                        <div class="form-group observaciones-container">
                            <label for="observaciones">Detalle de la solicitud:</label>
                            <textarea id="observaciones" name="observaciones"
                                placeholder="Indícanos el o los motivos de la solicitud o cualquier observación adicional que consideres relevante" rows="4"></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="actualizacion">Volver</button>
                    </div>
                </div>

                <!-- Paso 4: Formulario de Datos de Contacto -->
                <div class="carousel-step hidden" id="step-datos-contacto">
                    <h2>Actualización de Datos de Contacto</h2>



                    <div id="update-options-contacto" class="hidden form-container">
                        <h3>Selecciona los datos que deseas actualizar:</h3>

                        <div class="info-note">
                            <p><strong>Nota:</strong> Si eres representante legal, considera que los datos de contacto a actualizar corresponden a los tuyos.</p>
                        </div>

                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="update-direccion" name="update-fields-contacto"
                                    value="direccion">
                                <label for="update-direccion">Dirección</label>
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="update-email" name="update-fields-contacto" value="email">
                                <label for="update-email">Email</label>
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="update-telefono" name="update-fields-contacto"
                                    value="telefono">
                                <label for="update-telefono">Teléfono</label>
                            </div>
                        </div>

                        <div id="direccion-field" class="form-group field-container hidden">
                            <div class="form-group">
                                <label for="pais">País:</label>
                                <select id="pais" name="pais" required>
                                    <option value="">Selecciona una opción</option>
                                </select>
                            </div>

                            <!-- Campos para países que NO son Chile -->
                            <div id="estado-field" class="form-group hidden">
                                <label for="estado">Estado:</label>
                                <input type="text" id="estado" name="estado" placeholder="Ingresa el estado">
                            </div>

                            <div id="distrito-field" class="form-group hidden">
                                <label for="distrito">Distrito:</label>
                                <input type="text" id="distrito" name="distrito" placeholder="Ingresa el distrito">
                            </div>

                            <!-- Campos específicos para Chile -->
                            <div id="region-field" class="form-group hidden">
                                <label for="region">Región:</label>
                                <select id="region" name="region" required>
                                    <option value="">Selecciona una opción</option>
                                </select>
                            </div>

                            <div id="comuna-field" class="form-group hidden">
                                <label for="comuna">Comuna:</label>
                                <select id="comuna" name="comuna" required>
                                    <option value="">Selecciona una opción</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="direccion">Dirección:</label>
                                <input type="text" id="direccion" name="direccion" required
                                    placeholder="Ingresa tu dirección actualizada: Calle y N°">
                            </div>

                            <div class="form-group">
                                <label for="depto-casa-oficina">Depto, Casa u Oficina:</label>
                                <input type="text" id="depto-casa-oficina" name="depto-casa-oficina"
                                    placeholder="Ejemplo: Depto. 703">
                            </div>
                        </div>

                        <div id="email-field" class="form-group field-container hidden">
                            <label for="email">Email:</label>
                            <input type="text" id="email" name="email" placeholder="Ingresa tu correo electrónico ">
                            <small class="error-message" id="email-error"></small>
                        </div>

                        <div id="telefono-field" class="form-group field-container hidden">
                            <label for="telefono">Teléfono:</label>
                            <input type="text" id="telefono" name="telefono"
                                placeholder="Ingresa tu teléfono actualizado (formato código de país + número, ej: +56 912345678) ">
                        </div>

                        <div class="form-group observaciones-container">
                            <label for="observaciones-contacto">Detalles de la solicitud:</label>
                            <textarea id="observaciones-contacto" name="observaciones-contacto" rows="4"
                                placeholder="Indícanos el o los motivos de la solicitud o cualquier observación adicional que consideres relevante. "></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-contacto" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="actualizacion">Volver</button>
                    </div>
                </div>

                <!-- Paso 5: Formulario de Datos Bancarios -->
                <div class="carousel-step hidden" id="step-datos-bancarios">
                    <h2>Actualización de Datos Bancarios</h2>



                    <div id="update-options-bancarios" class="hidden form-container">
                        <h3>Registra tus datos bancarios actualizados: </h3>

                        <div class="form-group">
                            <label for="tipo-banco">Tipo de banco:</label>
                            <select id="tipo-banco" name="tipo-banco" required>
                                <option value="">Selecciona una opción</option>
                                <option value="nacional">Nacional</option>
                                <option value="extranjero">Extranjero</option>
                            </select>
                        </div>

                        <div id="pais-field" class="form-group hidden">
                            <label for="pais-bancario">País:</label>
                            <select id="pais-bancario" name="pais-bancario">
                                <option value="">Selecciona el país del banco</option>
                                <!-- Las opciones se cargarán desde países.json -->
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="banco">Banco:</label>
                            <input type="text" id="banco" name="banco" placeholder="Ej: Banco Estado, Santander, etc."
                                required>
                        </div>

                        <div id="tipo-cuenta-field" class="form-group hidden">
                            <label for="tipo-cuenta">Tipo de cuenta:</label>
                            <select id="tipo-cuenta" name="tipo-cuenta">
                                <option value="">Selecciona una opción</option>
                                <option value="corriente">Corriente</option>
                                <option value="vista">Vista</option>
                                <option value="ahorro">Ahorro</option>
                                <option value="rut">RUT</option>
                                <option value="chequera-electronica">Chequera electrónica</option>
                            </select>
                        </div>

                        <div id="direccion-banco-field" class="form-group hidden">
                            <label for="direccion-banco">Dirección del banco (Sucursal):</label>
                            <input type="text" id="direccion-banco" name="direccion-banco"
                                placeholder="Ingresa la dirección de la sucursal del banco ">
                        </div>

                        <div id="swift-iban-field" class="form-group hidden">
                            <label for="swift-iban">Swift / IBAN:</label>
                            <input type="text" id="swift-iban" name="swift-iban"
                                placeholder="Ingresa el código Swift o IBAN">
                        </div>

                        <div class="form-group">
                            <label for="numero-cuenta">N° de cuenta:</label>
                            <input type="text" id="numero-cuenta" name="numero-cuenta"
                                placeholder="Ingresa el número de cuenta actualizado" required>
                        </div>

                        <div class="form-group">
                            <label for="observaciones-bancarios">Detalles de la solicitud:</label>
                            <textarea id="observaciones-bancarios" name="observaciones-bancarios" rows="4"
                                placeholder="Indícanos el o los motivos de la solicitud o cualquier observación adicional que consideres relevante. "></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-bancarios" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="actualizacion">Volver</button>
                    </div>
                </div>
                <!-- Paso: Datos de autor -->
                <div class="carousel-step hidden" id="step-datos-autor">
                    <h2>Actualización de Datos de Autor</h2>

                    <div class="subsection-types">
                        <div class="subsection-type" data-subsection="ambito-clase">
                            <h3>Ámbito o Clase</h3>
                            <p>Actualiza la información sobre el ámbito o clase de autor con el que estarás inscrito en ATN. </p>
                        </div>
                        <div class="subsection-type" data-subsection="sociedades">
                            <h3>Otras sociedades</h3>
                            <p>Actualiza la información sobre otras sociedades de derechos de autor que te representen. </p>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="actualizacion">Volver</button>
                    </div>
                </div>

                <!-- Paso: Ámbito o Clase -->
                <div class="carousel-step hidden" id="step-ambito-clase">
                    <h2>Actualización de Ámbito o Clase</h2>

                    <div id="ambito-clase-form" class="form-container">
                        <div class="form-group">
                            <h3>Ámbito</h3>
                            <p class="form-description">Selecciona el o los ámbitos en los que deseas que ATN administre tus derechos de autor: </p>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ambito-audiovisual" name="ambito" value="Audiovisual">
                                    <label for="ambito-audiovisual">Audiovisual</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ambito-dramatico" name="ambito" value="Dramático">
                                    <label for="ambito-dramatico">Dramático</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <h3>Clase</h3>
                            <p class="form-description">Selecciona la o las clases específicas en las que deseas que ATN administre tus derechos de autor: </p>
                            <div id="clase-options" class="checkbox-group">
                                <!-- Opciones para Audiovisual -->
                                <div class="checkbox-item clase-audiovisual hidden">
                                    <input type="checkbox" id="clase-director" name="clase" value="Director">
                                    <label for="clase-director">Director</label>
                                </div>
                                <div class="checkbox-item clase-audiovisual hidden">
                                    <input type="checkbox" id="clase-guionista" name="clase" value="Guionista">
                                    <label for="clase-guionista">Guionista</label>
                                </div>

                                <!-- Opciones para Dramático -->
                                <div class="checkbox-item clase-dramatico hidden">
                                    <input type="checkbox" id="clase-dramaturgo" name="clase" value="Dramaturgo">
                                    <label for="clase-dramaturgo">Dramaturgo</label>
                                </div>
                                <div class="checkbox-item clase-dramatico hidden">
                                    <input type="checkbox" id="clase-coreografo" name="clase" value="Coreógrafo">
                                    <label for="clase-coreografo">Coreógrafo</label>
                                </div>
                                <div class="checkbox-item clase-dramatico hidden">
                                    <input type="checkbox" id="clase-compositor" name="clase" value="Compositor">
                                    <label for="clase-compositor">Compositor</label>
                                </div>
                                <div class="checkbox-item clase-dramatico hidden">
                                    <input type="checkbox" id="clase-traductor" name="clase" value="Traductor">
                                    <label for="clase-traductor">Traductor</label>
                                </div>
                            </div>

                            <div id="no-clase-message" class="info-note hidden">
                                <p>Selecciona al menos un ámbito para ver las clases disponibles.</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="observaciones-ambito">Detalles de la solicitud: *</label>
                            <textarea id="observaciones-ambito" name="observaciones" rows="4"
                                placeholder="Indícanos el o los motivos de la solicitud o cualquier observación adicional que consideres relevante. "></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-ambito" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="datos-autor">Volver</button>
                    </div>
                </div>

                <!-- Paso: Sociedades -->
                <div class="carousel-step hidden" id="step-sociedades">
                    <h2>Actualización de Otras Sociedades</h2>
                    <p>Registra las otras Sociedades de derechos de autor que te representen: </p>



                    <div id="sociedades-container" class="hidden form-container">
                        <div class="table-container">
                            <table id="sociedades-table" class="sociedades-table">
                                <thead>
                                    <tr>
                                        <th>Sociedad</th>
                                        <th>País</th>
                                        <th>Ámbito</th>
                                        <th>Clase</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="sociedades-body">
                                    <!-- Las filas se agregarán dinámicamente -->
                                </tbody>
                            </table>
                        </div>

                        <div class="form-group">
                            <button type="button" id="add-sociedad" class="btn btn-secondary">Agregar sociedad</button>
                        </div>

                        <!-- Formulario para agregar/editar sociedad -->
                        <div id="sociedad-form" class="sociedad-form hidden">
                            <h3>Detalles de la sociedad</h3>

                            <div class="form-group">
                                <label for="sociedad-pais">País de la sociedad:</label>
                                <select id="sociedad-pais" name="pais" required>
                                    <option value="">Selecciona un país</option>
                                    <!-- Los países se cargarán desde el archivo JSON -->
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="sociedad-nombre">Sociedad:</label>
                                <select id="sociedad-nombre" name="sociedad" required>
                                    <option value="">Selecciona una sociedad</option>
                                    <!-- Las sociedades se cargarán desde el archivo JSON -->
                                </select>
                            </div>

                            <div id="otra-sociedad-field" class="form-group field-container hidden">
                                <label for="otra-sociedad-nombre">Especifica sociedad:</label>
                                <input type="text" id="otra-sociedad-nombre" name="otra-sociedad"
                                    placeholder="Especifica el nombre de la sociedad">
                            </div>

                            <div class="form-group">
                                <label for="sociedad-ambito">Ámbito:</label>
                                <select id="sociedad-ambito" name="ambito" required>
                                    <option value="">Selecciona un ámbito</option>
                                    <option value="Audiovisual">Audiovisual</option>
                                    <option value="Dramático">Dramático</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="sociedad-clase">Clase:</label>
                                <select id="sociedad-clase" name="clase" required>
                                    <option value="">Selecciona una clase</option>
                                    <!-- Las clases se cargarán dinámicamente según el ámbito -->
                                </select>
                            </div>

                            <div class="form-actions">
                                <button type="button" id="save-sociedad" class="btn">Guardar</button>
                                <button type="button" id="cancel-sociedad" class="btn btn-secondary">Cancelar</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="observaciones-sociedades">Detalles de la solicitud:</label>
                            <textarea id="observaciones-sociedades" name="observaciones" rows="4"
                                placeholder="Indícanos el o los motivos de la solicitud o cualquier observación adicional que consideres relevante. "></textarea>
                        </div>

                        <div class="navigation-buttons">
                            <button type="button" id="submit-button-sociedades" class="btn">Enviar solicitud</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step"
                            data-prev="datos-autor">Volver</button>
                    </div>
                </div>

                <!-- Paso: Representante Legal -->
                <div class="carousel-step hidden" id="step-representante-legal">
                    <h2>Actualización de Representante Legal</h2>
                    
                    <div class="development-notice">
                        <h3>En desarrollo</h3>
                        <p>Proximamente podrás actualizar acá la información de tu representante legal.</p>
                    </div>

                    <div class="navigation-buttons">
                        <button type="button" class="btn btn-secondary prev-step" data-prev="actualizacion">Volver</button>
                    </div>
                </div>
        </main>

        <footer class="footer">
            <p>&copy; 2024 - Todos los derechos reservados</p>
        </footer>
    </div>

    <div id="success-modal" class="modal hidden">
        <div class="modal-content">
            <span id="close-modal" class="close-modal">&times;</span>
            <h2>Solicitud enviada con éxito</h2>
            <p>Tu solicitud ha sido enviada con éxito. Pronto te contactaremos para entregarte más detalles. </p>
            <button id="modal-ok" class="btn">Aceptar</button>
        </div>
    </div>

    <!-- Modal informativo post-validación -->
    <div id="info-modal" class="modal hidden" role="dialog" aria-labelledby="info-modal-title" aria-describedby="info-modal-description">
        <div class="modal-content">
            <h2 id="info-modal-title">Importante antes de continuar</h2>
            <p id="info-modal-description">
                Los cambios que realices en este formulario se aplicarán directamente a tu cuenta del Portal de Socios. 
                Asegúrate de ingresar tu información actualizada y verídica, ya que se utilizará para mantener actualizados tus registros internos.
            </p>
            <button id="info-modal-understood" class="btn" aria-label="Cerrar modal informativo">Entendido</button>
        </div>
    </div>

    <script src="./script.js"></script>
</body>


</html>




